# Y. AI駆動開発の原則

## 概要
AI駆動開発は、「AIは高速な提案者、人間は検証者」という役割分担に基づく開発手法です。AIが生成するコードを人間が検証・改善することで、効率と品質を両立します。

---

## 1. AIとの協働モデル

AIと人間は異なる強みを持ちます。人間がビジネス要件の理解と最終判断を担当し、AIが高速なコード生成と基本パターン実装を担当することで効果的な協働が実現します。

信頼と検証のバランスが重要です。初期段階は全体構造やセキュリティを詳しく確認し、パターン化した領域はAIの自動化を活用します。重要なビジネスロジックやセキュリティに関わる部分は必ず人間が最終確認します。

---

## 2. プロンプト設計の原則

### 2.1 明確な指示

曖昧な指示（「ログイン機能を作ってください」）は曖昧なコードを生成します。

```
✅ 具体的な指示には以下を含める:
- 入出力形式（JSON形式を例示）
- エラーハンドリング（具体的なHTTPステータス）
- セキュリティ要件（パスワードハッシュ化方法）
- テストカバレッジ（具体的なケース）
```

### 2.2 コンテキストの提供

既存コードの参照、制約条件、目的の背景を提供することで、プロジェクト固有の要件に沿ったコードが生成されます。

### 2.3 反復的な改善

最初の提案を「たたき台」とし、段階的に改善します。基本実装 → 不足部分追加 → パフォーマンス最適化 → テスト充実、という流れで品質を高めます。

---

## 3. 検証サイクルの確立

### 3.1 多層的な検証

```
レイヤー1: 構文チェック（自動）
レイヤー2: 静的解析（ESLint/TypeScript）
レイヤー3: ユニットテスト（自動）
レイヤー4: 人間レビュー（ビジネスロジック・セキュリティ）
```

### 3.2 高速フィードバックループ

問題発見 → フィードバック → AI修正 → 再検証を繰り返し改善します。テスト結果や検証結果を具体的にAIに伝えることが重要です。

---

## 4. 落とし穴と対策

| 誤信 | 現実 | 対策 |
|------|------|------|
| AIが書いたから正しい | 統計的パターン生成であり、エッジケースは見落とす | テストとレビューで検証 |
| 同じプロンプト = 同じ結果 | 出力は確率的であり、揺らぎがある | 複数案を生成して比較 |
| AIが全体仕様を理解している | 与えられた情報からのみ判断 | 必要な情報を明示的に提供 |

---

## まとめ

**重点項目:**
- 役割分担：AI（提案者）× 人間（検証者）
- プロンプト品質がAIの出力品質を左右
- 自動検証＋手動レビューで品質確保
- 検証サイクルを高速に回す
