# BQ. クラウドコンピューティング - Sprint 1

## 概要

クラウドコンピューティングは、インターネット経由でコンピューティングリソースをオンデマンドで利用する仕組みです。Sprint 1では、IaaS、PaaS、SaaSの違い、グローバルインフラ（リージョン・AZ）、スケーリング手法を習得します。

---

## 1. クラウドの三層構造

### IaaS（Infrastructure as a Service）

EC2（仮想サーバー）、EBS（ストレージ）、VPC（ネットワーク）など基礎リソースを提供します。利用者がOS・ミドルウェア以上を全て管理するため、柔軟性が高い反面、管理負荷が大きく、セキュリティ責任が重いのが特徴です。

**責任範囲：** 利用者が開発・運用、クラウドプロバイダが物理基盤・仮想化層を管理。

---

### PaaS（Platform as a Service）

AWS Lambda やBeanstalk など、アプリケーション実行環境をプラットフォームとして提供します。開発者はコード記述のみに専念でき、スケーリング・運用はプロバイダが自動実施。

**責任範囲：** 利用者がアプリケーション開発のみ、プロバイダがOS以下全て管理。

**トレードオフ：** カスタマイズ制限、ベンダーロックイン、パフォーマンス調整限定的。

---

### SaaS（Software as a Service）

Google Workspace、Salesforce、Slack など完成したソフトウェアをWebブラウザで利用するサービスです。インストール不要で常に最新版ですが、カスタマイズは一切不可です。

**責任範囲：** 利用者が利用するのみ、全てプロバイダが管理。

---

## 2. リージョン・アベイラビリティゾーン

### リージョン

AWSのリージョンは、地理的に独立した複数のデータセンターの集合です（例：ap-northeast-1 東京）。各リージョンは完全に独立し、一つで障害が発生しても他は影響を受けません。

**選択時の考慮点：** ユーザー地理位置（レイテンシ）、サービス利用可能性（最新サービスはus-east-1先行）、コスト、ガバナンス（データレジデンシー要件）、ビジネス継続性（複数リージョン冗長化）。

---

### アベイラビリティゾーン（AZ）

AZはリージョン内の物理的に独立したデータセンター（例：ap-northeast-1a、1b、1c）です。電源・冷却・ネットワークが完全独立のため、一つのAZで障害が発生しても他は動作継続します。

**高可用性構成：** 最小2つのAZに分散配置、ロードバランサーで自動フェイルオーバー、ステートレス設計で移動容易化。

---

### マルチリージョン戦略

- **Active-Passive型：** Primary が機能、Standby がフェイルオーバー待機。ビジネス継続性重視。
- **Active-Active型：** 複数リージョン同時稼働で負荷分散。グローバル低遅延重視。
- **段階的ロールアウト：** リージョン順次展開。リスク軽減。

---

## 3. スケーリング

### スケールアップ vs スケールアウト

**スケールアップ（垂直）：** 既存サーバーをより高性能にする。ダウンタイム発生、上限あり。

**スケールアウト（水平）：** 複数の小さなマシンを並列実行。ダウンタイムなし、無制限拡張可能、障害耐性向上。

**推奨：** クラウド環境ではスケールアウト。24時間稼働、自動スケーリング対応、必要な分だけ追加・削除可能。

---

### Auto Scaling

CPU利用率やメモリなどの監視により、自動的にインスタンス数を増減させます。

**スケーリングポリシー：**
- **ターゲットトラッキング：** CPU等を一定に保つ（標準的）
- **ステップスケーリング：** メトリクス段階に応じてアクション実行
- **シンプルスケーリング：** 単一アラームで拡縮

**設定：** 最小キャパシティ（2台）、最大キャパシティ（10台）、希望キャパシティ（3～5台）。

---

### 予測型スケーリング

機械学習でトラフィック増加を先読みしてスケーリング実施。従来型はトラフィック増加に遅延対応（5～10分のラグ）。予測型は過去パターンから事前にスケーリング。

**活用：** 毎朝9時業務開始→8時50分事前スケーリング、イベント需要予測→段階的事前拡張、週末vs平日→パターン自動調整。

---

## チェックポイント

- [ ] IaaS/PaaS/SaaS の責任分担と特徴を説明できる
- [ ] リージョン選択の考慮点（遅延、規制、コスト）を理解している
- [ ] AZの役割と複数AZ構成のメリットを説明できる
- [ ] スケールアップ/アウトのトレードオフを理解している
- [ ] Auto Scaling の仕組みと設定ポイントを説明できる
- [ ] 予測型スケーリングの利点を説明できる
