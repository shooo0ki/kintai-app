# コスト管理

## 概要
予算配分、コスト見積もり、ROI分析を通じて、プロジェクトの経済効率を実現します。

## 予算管理の流れ

全体予算を設定 → フェーズ別配分（企画10%、開発60%、テスト20%、本番化10%）→ 月次追跡 → 超過時の是正措置

定期的な予算追跡により、計画と実績のギャップを早期に発見し、スコープ調整や予算再配分を実施します。

```python
class BudgetManager:
    def __init__(self, total_budget):
        self.total_budget = total_budget
        self.phases = {}
        self.spent = 0

    def allocate_phase(self, phase_name, percentage):
        amount = self.total_budget * (percentage / 100)
        self.phases[phase_name] = {'allocated': amount, 'spent': 0}

    def record_expense(self, phase_name, cost):
        self.phases[phase_name]['spent'] += cost
        self.spent += cost
        if self.phases[phase_name]['spent'] > self.phases[phase_name]['allocated']:
            print(f"⚠️ {phase_name}が予算超過")

    def get_status(self):
        return {
            'spent': self.spent,
            'remaining': self.total_budget - self.spent,
            'burn_rate': f"{(self.spent / self.total_budget * 100):.1f}%"
        }
```

## コスト見積もり

### 三点見積もり法
楽観値、最確値、悲観値から期待値を算出：
期待値 = (楽観値 + 4×最確値 + 悲観値) ÷ 6

範囲で見積もることで、より現実的なコスト予測と信頼区間を得られます。

### ボトムアップ見積もり
タスク単位で細粒度見積もりを行い、積み上げることで正確な全体予算を導出。リスク緩衝（悲観シナリオまでの余裕）も考慮します。

```python
class CostEstimator:
    def add_task(self, task_name, optimistic, likely, pessimistic):
        expected = (optimistic + 4*likely + pessimistic) / 6
        self.tasks.append({'name': task_name, 'expected': expected})

    def calculate_total(self):
        total_expected = sum(t['expected'] for t in self.tasks)
        total_pessimistic = sum(t['pessimistic'] for t in self.tasks)
        return {
            'expected_cost': total_expected,
            'risk_buffer': total_pessimistic - total_expected,
            'confidence_level': '85%'
        }
```

## ROI（投資対効果）分析

ROI = (利益 - 投資額) ÷ 投資額 × 100%

売上増加、コスト削減、効率化、リスク軽減の複合効果を考慮し、総合的なROIを評価。ペイバック期間（投資回収までの期間）も並行追跡します。

## 最適化のヒント

- **スコープの厳格管理**: 変更管理プロセスで要件追加を統制
- **リソース効率化**: スキルに応じた最適配置と外部活用検討
- **早期リスク検出**: 予算超過の兆候を素早く察知
- **定期的なレビュー**: 月次・週次で進捗確認と透明性確保
